<!-- Social media preview metadata -->
{%- if page.description -%}
  {% assign description = page.description %}
{% elsif page.layout == "post" %}
  {% assign description = page.content | strip_html | lstrip | truncate: 150 %}
{% else %}
  {% assign description = site.description %}
{% endif %}
<!-- Twitter cards -->
<meta name="twitter:card" content="summary">
{% assign author = site.authors | where: 'slug', page.author | first -%}
<meta name="twitter:creator" content="@{{ author.twitter | default: site.twitter }}">
<meta name="twitter:site" content="@{{ site.twitter }}">
<meta name="twitter:title" content="{{ page.title | default: site.title}}">
<meta name="twitter:url" content="{{ site.url }}{{ page.url }}">
{% if page.image -%}
<meta name="twitter:image:src" content="{{ site.url }}{{ page.image }}">
{% endif -%}
<meta name="twitter:description" content="{{ description }}">

<!-- Open Graph -->
<meta property="og:site_name" content="{{ site.description }}">
<meta property="og:title" content="{{ page.title | default: site.title}}">
<meta property="og:url" content="{{ site.url }}{{ page.url }}">
{% if page.image -%}
<meta property="og:image" content="{{ site.url }}{{ page.image }}" />
{% endif -%}
<meta property="og:description" content="{{ description }}">
<meta property="og:type" content="website">

<!-- Fallback description -->
<meta name="description" content="{{ description }}">
<!-- End of social media preview metadata -->